/*! integration-designer 04-05-2015 */
var IntegrationDesigner=IntegrationDesigner||{};IntegrationDesigner.Main={},IntegrationDesigner.Canvas={},IntegrationDesigner.Pallette={},IntegrationDesigner.Canvas=function(a){this.container_=a,this.jsPlumbObj_=jsPlumb.getInstance({PaintStyle:{lineWidth:6,strokeStyle:"#567567",outlineColor:"black",outlineWidth:1},Connector:["Bezier",{curviness:30}],Endpoint:["Dot",{radius:5}],EndpointStyle:{fillStyle:"#567567"},Anchor:[.5,.5,1,1],Container:this.container_})},IntegrationDesigner.Canvas.prototype.render=function(){this.registerListeners_()},IntegrationDesigner.Canvas.prototype.registerListeners_=function(){var a,b,c=this;this.container_.droppable({drop:function(d,e){b=e.helper.children(":first").attr("src"),a=e.helper.children(":last").text(),c.addElement_(a,b)}})},IntegrationDesigner.Canvas.prototype.addElement_=function(a,b){console.log(a)},IntegrationDesigner.Pallette=function(a){this.palleteDefinition_={endpoints:{sfdc:{label:"Salesforce",img:"img/sfdc.jpg"},anaplan:{label:"Anaplan",img:"img/anaplan.png"},file:{label:"File",img:"img/fileconnector.png"},db:{label:"Database",img:"img/database.png"}},transformers:{aggregator:{label:"Aggregator",img:"img/gears.png"},filter:{label:"Filter",img:"img/gears.png"},datamapper:{label:"Data Mapper",img:"img/gears.png"}}},this.container_=a},IntegrationDesigner.Pallette.prototype.render=function(){var a,b;for(var c in this.palleteDefinition_){a=$(document.createElement("div")),a.attr("id",c),a.addClass("panel-container");for(var d in this.palleteDefinition_[c])b=$(document.createElement("div")),b.attr("id",d),b.addClass("panel-element"),b.addClass(c),b.append($(document.createElement("img")).attr("src",this.palleteDefinition_[c][d].img)),b.append($(document.createElement("span")).text(this.palleteDefinition_[c][d].label).addClass("label")),b.draggable({addClasses:!1,cursor:"move",helper:"clone"}),a.append(b);this.container_.append(a)}},IntegrationDesigner.Main=function(){this.containers_={topLevelContainer:$(".top-level-container"),palletteContainer:$(".pallette-container"),canvasContainer:$(".canvas-container")},this.canvas_=new IntegrationDesigner.Canvas(this.containers_.canvasContainer),this.pallette_=new IntegrationDesigner.Pallette(this.containers_.palletteContainer)},IntegrationDesigner.Main.prototype.render=function(){this.pallette_.render(),this.canvas_.render()};